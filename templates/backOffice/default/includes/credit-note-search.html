{assign credit_note_ref {$smarty.get.ref|default:null}}
{assign date_min {$smarty.get.creditNoteDateMin|default:null}}
{assign date_max {$smarty.get.creditNoteDateMax|default:null}}

{if $date_max}
  {$date_max = date("d/m/Y", strtotime($date_max))}
{/if}

{if $date_min}
  {$date_min = date("d/m/Y", strtotime($date_min))}
{/if}

<div class="general-block-decorator">
  <div class="row">
    <div class="col-md-12">
      <div class="title title-without-tabs">
        {intl l="Search" d="creditnote.bo.default"}
      </div>

      {form name='credit_note_search_form'}
      <form action="{url path='/admin/module/credit-note/search'}" method="post">

        {form_hidden_fields form=$form}

        <div class="row">
          <div class="col-md-4">
            {form_field form=$form field="ref"}
            <div class="form-group">
              <label class="control-label" for="{$label_attr.for}">
                {$label}
              </label>
              <input type="text" id="{$label_attr.for}" class="form-control" name="{$name}" value="{$credit_note_ref}" />
            </div>
            {/form_field}
          </div>
          <div class="col-md-4">
            {form_field form=$form field="creditNoteDateMin"}
            <div class="form-group">
              <label class="control-label" for="{$label_attr.for}">
                {$label}
              </label>

              <div class="input-group">
                <input type="text" id="{$label_attr.for}" class="form-control is-calendar-input" name="{$name}" value="{$date_min}" />
                <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>
              </div>
            </div>
            {/form_field}
          </div>

          <div class="col-md-4">
            {form_field form=$form field="creditNoteDateMax"}
            <div class="form-group">
              <label class="control-label" for="{$label_attr.for}">
                {$label}
              </label>

              <div class="input-group">
                <input type="text" id="{$label_attr.for}" class="form-control is-calendar-input" name="{$name}" value="{$date_max}" />
                <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>
              </div>
            </div>
            {/form_field}
          </div>
        </div>


        {hook name='credit-notes.search.form'}

        <button class="btn btn-info" type="submit">{intl l='Search' d='creditnote.bo.default'}</button>

        <button class="btn btn-xs btn-default pull-right" id="clear-selection" type="button">{intl l='Clean selection' d='creditnote.bo.default'}</button>

      </form>
      {/form}
    </div>
  </div>
</div>
